@model DetailVM
<!-- details -->
<section class="section section--details">
	<!-- details content -->
	<div class="container">
		<div class="row">
			<!-- title -->
			<div class="col-12">
				<h1 class="section__title section__title--head">@Model.Movie.Name</h1>
			</div>
			<!-- end title -->
			<!-- content -->
			<div class="col-12 col-xl-6">
				<div class="item item--details">
					<div class="row">
						<!-- card cover -->
						<div class="col-12 col-sm-5 col-md-5 col-lg-4 col-xl-6 col-xxl-5">
							<div class="item__cover">
								<img src="~/assets/img/covers/@Model.Movie.Image" alt="">
								<span class="item__rate item__rate--green">@Model.Movie.Rating</span>
								<button class="item__favorite item__favorite--static" type="button"><i class="ti ti-bookmark"></i></button>
							</div>
						</div>
						<!-- end card cover -->
						<!-- card content -->
						<div class="col-12 col-md-7 col-lg-8 col-xl-6 col-xxl-7">
							<div class="item__content">
								<ul class="item__meta">
									<li><span>Director:</span> <a href="#">@Model.Movie.Director.FullName</a></li>
									<li>
										<span>Actors:</span>
										@foreach (var actor in Model.Movie.MovieActors)
										{
											<a asp-controller="detail" asp-action="actor" asp-route-id="@actor.Actor.Id">@actor.Actor.FullName</a>
										}
									</li>
									<li>
										<span>Genre:</span>
										@foreach (var tag in Model.Movie.MovieTags)
										{
											<a href="#">@tag.Tag.Name</a>
										}

									</li>
									<li><span>Premiere::</span>@Model.Movie.Premiere</li>
									<li><span>Running time:</span> @Model.Movie.RunningTime</li>
									<li><span>Country:</span> <a href="#">@Model.Movie.Country.Name</a></li>
								</ul>

								<div class="item__description">
									<p>@Model.Movie.Description</p>

								</div>
							</div>
						</div>
						<!-- end card content -->
					</div>
				</div>
			</div>
			<!-- end content -->
			<!-- player -->
			<div class="col-12 col-xl-6">
				<div class="section__player">
					@if (Model.Movie.Category.Name == "TV Series")
					{
						<div>
							@if (User.Identity.IsAuthenticated)
							{
								<video controls autoplay width="715" height="410" id="player">
									<source src="~/assets/videos/@Model.Movie.VideoUrl" type="audio/mp4">
								</video>
							}
							else
							{
								<video controls autoplay width="715" height="410" id="player">
									<source src="~/assets/videos/@Model.Movie.TrailerUrl" type="audio/mp4">
								</video>
							}
						</div>
						@if (User.Identity.IsAuthenticated)
						{
							<div class="section__item-filter">
								@foreach (var season in Model.Movie.Seasons)
								{
									<select class="section__item-select" name="season" id="filter__season">
										@foreach (var serie in Model.Movie.Seasons.FirstOrDefault(s => s.Id == season.Id).SeasonVideos)
										{
											<option selected value="@season.Id">Season @season.SeasonNumber Series @serie.SeriesNumber </option>
										}
									</select>
								}
							</div>
						}
					}
					else
					{
						<div>
							@if (User.Identity.IsAuthenticated)
							{
								<video controls autoplay width="715" height="410" id="player">
									<source src="~/assets/videos/@Model.Movie.VideoUrl" type="audio/mp4">
								</video>
							}
							else
							{
								<video controls autoplay width="715" height="410" id="player">
									<source src="~/assets/videos/@Model.Movie.TrailerUrl" type="audio/mp4">
								</video>
							}
						</div>
					}



				</div>

				<!-- end player -->
			</div>
		</div>
		<!-- end details content -->
</section>
<!-- end details -->
<!-- content -->
<section class="content">
	<div class="content__head content__head--mt">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<!-- content title -->
					<h2 class="content__title">Discover</h2>
					<!-- end content title -->
					<!-- content tabs nav -->
					<ul class="nav nav-tabs content__tabs" id="content__tabs" role="tablist">
						<li class="nav-item" role="presentation">
							<button id="1-tab" class="active" data-bs-toggle="tab" data-bs-target="#tab-1" type="button" role="tab" aria-controls="tab-1" aria-selected="true">Comments</button>
						</li>

						<li class="nav-item" role="presentation">
							<button id="2-tab" data-bs-toggle="tab" data-bs-target="#tab-2" type="button" role="tab" aria-controls="tab-2" aria-selected="false">Reviews</button>
						</li>

					</ul>
					<!-- end content tabs nav -->
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-12 col-lg-8">
				<!-- content tabs -->
				<div class="tab-content">
					<div class="tab-pane fade show active" id="tab-1" role="tabpanel" aria-labelledby="1-tab" tabindex="0">
						<div class="row">
							<!-- comments -->
							<div class="col-12">
								<div class="comments">
									<ul class="comments__list">
									@foreach(var comment in Model.Comments){
											<li class="comments__item">
												<div class="comments__autor">
													<img class="comments__avatar" src="~/assets/img/user.svg" alt="">
													<span class="comments__name">@comment.UserName</span>
													<span class="comments__time">@comment.CreatedAt</span>
												</div>
												<p class="comments__text">@comment.Description</p>
												<div class="comments__actions">
													<div class="comments__rate">
														<button type="button"><i class="ti ti-thumb-up"></i>@comment.LikeCount</button>

														<button type="button">@comment.DislikeCount<i class="ti ti-thumb-down"></i></button>
													</div>

													<button type="button"><i class="ti ti-arrow-forward-up"></i>Reply</button>
													<button type="button"><i class="ti ti-quote"></i>Quote</button>
												</div>
											</li>
									}

									</ul>

								@if(Model.Comments.Count==0){
									<h4 style="text-align:center; color:white;">No Comments</h4>
								}
								else{
										<!-- paginator mobile -->
										<div class="paginator-mob paginator-mob--comments">
											<span class="paginator-mob__pages">5 of 628</span>

											<ul class="paginator-mob__nav">
												<li>
													<a href="#">
														<i class="ti ti-chevron-left"></i>
														<span>Prev</span>
													</a>
												</li>
												<li>
													<a href="#">
														<span>Next</span>
														<i class="ti ti-chevron-right"></i>
													</a>
												</li>
											</ul>
										</div>
										<!-- end paginator mobile -->
										<!-- paginator desktop -->
										<ul class="paginator paginator--comments">
											<li class="paginator__item paginator__item--prev">
												<a href="#"><i class="ti ti-chevron-left"></i></a>
											</li>
											<li class="paginator__item"><a href="#">1</a></li>
											<li class="paginator__item paginator__item--active"><a href="#">2</a></li>
											<li class="paginator__item"><a href="#">3</a></li>
											<li class="paginator__item"><a href="#">4</a></li>
											<li class="paginator__item"><span>...</span></li>
											<li class="paginator__item"><a href="#">36</a></li>
											<li class="paginator__item paginator__item--next">
												<a href="#"><i class="ti ti-chevron-right"></i></a>
											</li>
										</ul>
										<!-- end paginator desktop -->
								}

									@if(User.Identity.IsAuthenticated){
										<form method="post" class="sign__form sign__form--comments" asp-controller="detail" asp-action="addcomment" asp-route-id="@Model.Movie.Id">
											<input asp-for="@Model.Movie.Id" readonly hidden>
											<div asp-validation-summary="ModelOnly" class="text-danger"></div>
											<div class="sign__group">
												<textarea asp-for="CommentVM.Description" class="sign__textarea" placeholder="Add comment"></textarea>
												<span asp-validation-for="CommentVM.Description".Description" class="text-danger"></span>
											</div>
											<button type="submit" class="sign__btn sign__btn--small">Send</button>
										</form>
									}
									else{
										<div class="text-center p-2 text-white bg-black">For Adding Comments You Have To Login.<a asp-controller="account" asp-action="login">Sign In!</a></div>
									}
								</div>
							</div>
							<!-- end comments -->
						</div>
					</div>

					<div class="tab-pane fade" id="tab-2" role="tabpanel" aria-labelledby="2-tab" tabindex="0">
						<div class="row">
							<!-- reviews -->
							<div class="col-12">
								<div class="reviews">
									<ul class="reviews__list">
										<li class="reviews__item">
											<div class="reviews__autor">
												<img class="reviews__avatar" src="~/assets/img/user.svg" alt="">
												<span class="reviews__name">Best Marvel movie in my opinion</span>
												<span class="reviews__time">24.08.2018, 17:53 by John Doe</span>

												<span class="reviews__rating reviews__rating--yellow">6</span>
											</div>
											<p class="reviews__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
										</li>

										<li class="reviews__item">
											<div class="reviews__autor">
												<img class="reviews__avatar" src="~/assets/img/user.svg" alt="">
												<span class="reviews__name">Best Marvel movie in my opinion</span>
												<span class="reviews__time">24.08.2018, 17:53 by John Doe</span>

												<span class="reviews__rating reviews__rating--green">9</span>
											</div>
											<p class="reviews__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
										</li>

										<li class="reviews__item">
											<div class="reviews__autor">
												<img class="reviews__avatar" src="~/assets/img/user.svg" alt="">
												<span class="reviews__name">Best Marvel movie in my opinion</span>
												<span class="reviews__time">24.08.2018, 17:53 by John Doe</span>

												<span class="reviews__rating reviews__rating--red">5</span>
											</div>
											<p class="reviews__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
										</li>
									</ul>

									<!-- paginator mobile -->
									<div class="paginator-mob paginator-mob--comments">
										<span class="paginator-mob__pages">5 of 628</span>

										<ul class="paginator-mob__nav">
											<li>
												<a href="#">
													<i class="ti ti-chevron-left"></i>
													<span>Prev</span>
												</a>
											</li>
											<li>
												<a href="#">
													<span>Next</span>
													<i class="ti ti-chevron-right"></i>
												</a>
											</li>
										</ul>
									</div>
									<!-- end paginator mobile -->
									<!-- paginator desktop -->
									<ul class="paginator paginator--comments">
										<li class="paginator__item paginator__item--prev">
											<a href="#"><i class="ti ti-chevron-left"></i></a>
										</li>
										<li class="paginator__item"><a href="#">1</a></li>
										<li class="paginator__item paginator__item--active"><a href="#">2</a></li>
										<li class="paginator__item"><a href="#">3</a></li>
										<li class="paginator__item"><a href="#">4</a></li>
										<li class="paginator__item"><span>...</span></li>
										<li class="paginator__item"><a href="#">36</a></li>
										<li class="paginator__item paginator__item--next">
											<a href="#"><i class="ti ti-chevron-right"></i></a>
										</li>
									</ul>
									<!-- end paginator desktop -->

									<form action="#" class="sign__form sign__form--comments">
										<div class="sign__group">
											<input type="text" class="sign__input" placeholder="Title">
										</div>

										<div class="sign__group">
											<select class="sign__select" name="rating" id="rating">
												<option value="0">Rating</option>
												<option value="1">1 star</option>
												<option value="2">2 stars</option>
												<option value="3">3 stars</option>
												<option value="4">4 stars</option>
												<option value="5">5 stars</option>
												<option value="6">6 stars</option>
												<option value="7">7 stars</option>
												<option value="8">8 stars</option>
												<option value="9">9 stars</option>
												<option value="10">10 stars</option>
											</select>
										</div>

										<div class="sign__group">
											<textarea id="textreview" name="textreview" class="sign__textarea" placeholder="Add review"></textarea>
										</div>

										<button type="button" class="sign__btn sign__btn--small">Send</button>
									</form>
								</div>
							</div>
							<!-- end reviews -->
						</div>
					</div>

					<div class="tab-pane fade" id="tab-3" role="tabpanel" aria-labelledby="3-tab" tabindex="0">
						<!-- project gallery -->
						<div class="gallery" itemscope>
							<div class="row">
								<!-- gallery item -->
								<figure class="col-12 col-sm-6 col-xl-4" itemprop="associatedMedia" itemscope>
									<a href="~/assets/img/gallery/project-1.jpg" itemprop="contentUrl" data-size="1920x1280">
										<img src="~/assets/img/gallery/project-1.jpg" itemprop="thumbnail" alt="Image description" />
									</a>
									<figcaption itemprop="caption description">Some image caption 1</figcaption>
								</figure>
								<!-- end gallery item -->
								<!-- gallery item -->
								<figure class="col-12 col-sm-6 col-xl-4" itemprop="associatedMedia" itemscope>
									<a href="~/assets/img/gallery/project-2.jpg" itemprop="contentUrl" data-size="1920x1280">
										<img src="~/assets/img/gallery/project-2.jpg" itemprop="thumbnail" alt="Image description" />
									</a>
									<figcaption itemprop="caption description">Some image caption 2</figcaption>
								</figure>
								<!-- end gallery item -->
								<!-- gallery item -->
								<figure class="col-12 col-sm-6 col-xl-4" itemprop="associatedMedia" itemscope>
									<a href="~/assets/img/gallery/project-3.jpg" itemprop="contentUrl" data-size="1920x1280">
										<img src="~/assets/img/gallery/project-3.jpg" itemprop="thumbnail" alt="Image description" />
									</a>
									<figcaption itemprop="caption description">Some image caption 3</figcaption>
								</figure>
								<!-- end gallery item -->
								<!-- gallery item -->
								<figure class="col-12 col-sm-6 col-xl-4" itemprop="associatedMedia" itemscope>
									<a href="~/assets/img/gallery/project-4.jpg" itemprop="contentUrl" data-size="1920x1280">
										<img src="~/assets/img/gallery/project-4.jpg" itemprop="thumbnail" alt="Image description" />
									</a>
									<figcaption itemprop="caption description">Some image caption 4</figcaption>
								</figure>
								<!-- end gallery item -->
								<!-- gallery item -->
								<figure class="col-12 col-sm-6 col-xl-4" itemprop="associatedMedia" itemscope>
									<a href="~/assets/img/gallery/project-5.jpg" itemprop="contentUrl" data-size="1920x1280">
										<img src="~/assets/img/gallery/project-5.jpg" itemprop="thumbnail" alt="Image description" />
									</a>
									<figcaption itemprop="caption description">Some image caption 5</figcaption>
								</figure>
								<!-- end gallery item -->
								<!-- gallery item -->
								<figure class="col-12 col-sm-6 col-xl-4" itemprop="associatedMedia" itemscope>
									<a href="~/assets/img/gallery/project-6.jpg" itemprop="contentUrl" data-size="1920x1280">
										<img src="~/assets/img/gallery/project-6.jpg" itemprop="thumbnail" alt="Image description" />
									</a>
									<figcaption itemprop="caption description">Some image caption 6</figcaption>
								</figure>
								<!-- end gallery item -->
							</div>
						</div>
						<!-- end project gallery -->
					</div>
				</div>
				<!-- end content tabs -->
			</div>

			<!-- sidebar -->
			<div class="col-12 col-lg-4">
				<div class="row">
					<!-- section title -->
					<div class="col-12">
						<h2 class="section__title section__title--sidebar">You may also like</h2>
					</div>
					<!-- end section title -->
					@foreach (var movie in Model.RelatedMovies)
					{
						<!-- item -->
						<div class="col-6 col-sm-4 col-lg-6">
							<div class="item">
								<div class="item__cover">
									<img src="~/assets/img/covers/@movie.Image" alt="">
									<a asp-controller="detail" asp-action="index" asp-route-id="@movie.Id" class="item__play">
										<i class="ti ti-player-play-filled"></i>
									</a>
									<span class="item__rate item__rate--green">@movie.Rating</span>
									<button class="item__favorite" type="button"><i class="ti ti-bookmark"></i></button>
								</div>
								<div class="item__content">
									<h3 class="item__title"><a asp-controller="detail" asp-action="index" asp-route-id="@movie.Id">@movie.Name</a></h3>
									<span class="item__category">
										@foreach (var tag in Model.RelatedMovies.FirstOrDefault(m => m.Id == movie.Id).MovieTags)
										{
											<a href="#">@tag.Tag.Name</a>
										}

									</span>
								</div>
							</div>
						</div>
						<!-- end item -->
					}

				</div>
			</div>
			<!-- end sidebar -->
		</div>
	</div>
</section>
<!-- end content -->